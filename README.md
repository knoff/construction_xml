# Минстрой XML Service (Python/FastAPI) — MVP-скелет

**Назначение**: сервис для формирования и увязки документов (Задание, Пояснительная записка и др.) на базе **CDM** (канонической модели), с загрузкой правил, валидациями и работой с файлами.

## Быстрый старт (локально)

```bash
python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload
```

Откройте: http://127.0.0.1:8000/docs

## Что уже есть
- FastAPI-приложение, модульные роутеры.
- **CDM** (минимальный фрагмент) и простое создание черновиков документов.
- Загрузка файлов с расчётом **SHA-256** и контролем размера (порог задаётся в env).
- Загрузка правил-хэлперов (YAML), хранение их в файловой системе, базовая проверка структуры.
- Заготовки для: реестра XSD, печатных шаблонов, верификации откреплённых подписей.

## Структура
```
app/
  api/routes/   # эндпоинты
  core/         # конфиг, utils
  models/       # CDM-модели
  services/     # логика: файлы, правила, подписи, схемы
  templates/    # шаблоны печати
  rules/        # примеры правил (YAML)
tests/
```

## Дальше
- Подключить реальные XSD, автогенерацию JSON Schema форм.
- Реализовать движок правил (JSONLogic) и кросс-док проверки.
- Добавить генерацию PDF/DOCX из Jinja2/docxtpl.
- Подключить верификацию .sig и (опционально) подписание.