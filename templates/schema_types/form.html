{% extends "base.html" %}
{% block content %}
<h1 class="text-xl font-semibold mb-4">
  {% if item %}Изменить тип{% else %}Новый тип{% endif %}
</h1>

<form method="post" action="{% if item %}/schema-types/{{ item.id }}/save{% else %}/schema-types/new{% endif %}"
      class="bg-white border rounded-lg p-4 max-w-xl">

  <div class="mb-3">
    <label class="block text-sm mb-1">Code (уникальный)</label>
    <input class="w-full border rounded-md px-3 py-2" name="code" value="{{ item.code if item else '' }}" required>
  </div>

  <div class="mb-3">
    <label class="block text-sm mb-1">Название</label>
    <input class="w-full border rounded-md px-3 py-2" name="title" value="{{ item.title if item else '' }}" required>
  </div>

  <div class="mb-3">
    <label class="block text-sm mb-1">Описание</label>
    <textarea class="w-full border rounded-md px-3 py-2" name="description" rows="3">{{ item.description if item else '' }}</textarea>
  </div>

  <div class="mb-4">
    <label class="block text-sm mb-1">Шаблон имени файла (regex)</label>
    <input class="w-full border rounded-md px-3 py-2 font-mono text-sm" name="filename_pattern" value="{{ item.filename_pattern if item else '' }}">
    <p class="text-xs text-slate-500 mt-1">Напр.: (?i)DesignAssignment-[0-9]{2}-[0-9]{2}\.xsd</p>
  </div>

  <button type="submit" class="px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700">
    Сохранить
  </button>
</form>
{% endblock %}
