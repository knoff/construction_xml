{% extends "base.html" %}
{% block content %}
<h1 class="text-xl font-semibold mb-4">Справочник типов схем</h1>

<div class="mb-4">
  <a href="/schema-types/new" class="inline-flex items-center px-3 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700">Добавить тип</a>
</div>

<div class="bg-white border rounded-lg">
  <table class="w-full text-sm">
    <thead class="bg-slate-100 border-b">
      <tr>
        <th class="text-left p-2">Code</th>
        <th class="text-left p-2">Название</th>
        <th class="text-left p-2">Шаблон имени файла</th>
        <th class="text-left p-2"></th>
      </tr>
    </thead>
    <tbody>
    {% for t in items %}
      <tr class="border-b last:border-0 hover:bg-slate-50">
        <td class="p-2 font-mono">
          <a class="text-blue-700 hover:underline" href="/schema-types/{{ t.id }}">{{ t.code }}</a>
        </td>
        <td class="p-2">{{ t.title }}</td>
        <td class="p-2">{{ t.filename_pattern or "—" }}</td>
        <td class="p-2">
          <form action="/schema-types/{{ t.id }}/delete" method="post" class="inline" onsubmit="return confirm('Удалить тип?');">
            <button class="text-red-600 hover:underline ml-3" type="submit">Удалить</button>
          </form>
        </td>
      </tr>
    {% else %}
      <tr><td class="p-2 text-slate-500" colspan="4">Пока пусто</td></tr>
    {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
